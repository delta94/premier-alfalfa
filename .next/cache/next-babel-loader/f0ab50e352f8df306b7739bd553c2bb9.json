{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gregleeper/premier-alfalfa/premier_alfalfa/pages/contracts/edit/[id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Formik, Field, Form } from \"formik\";\nimport { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/layout\";\nimport { API } from \"aws-amplify\";\nimport { updateContract } from \"../../../../src/graphql/mutations.ts\";\nimport { listVendors, listCommoditys, getContract } from \"../../../../src/graphql/queries.ts\";\nimport moment from \"moment\";\nimport DatePicker from \"react-datepicker\";\nimport { useRouter } from \"next/router\";\n\nvar EditContract = function EditContract() {\n  _s();\n\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useState = useState(),\n      contract = _useState[0],\n      setContract = _useState[1];\n\n  var _useState2 = useState([]),\n      commodities = _useState2[0],\n      setCommodities = _useState2[1];\n\n  var _useState3 = useState([]),\n      vendors = _useState3[0],\n      setVendors = _useState3[1];\n\n  var _useState4 = useState(new Date()),\n      dateSigned = _useState4[0],\n      setDateSigned = _useState4[1];\n\n  var _useState5 = useState(new Date()),\n      beginDate = _useState5[0],\n      setBeginDate = _useState5[1];\n\n  var _useState6 = useState(new Date()),\n      endDate = _useState6[0],\n      setEndDate = _useState6[1];\n\n  useEffect(function () {\n    getMyContract();\n  }, [id]);\n  useEffect(function () {\n    if (contract) {\n      setDateSigned(new Date(contract.dateSigned));\n      setBeginDate(new Date(contract.beginDate));\n      setEndDate(new Date(contract.endDate));\n    }\n  }, [contract]);\n\n  var getMyContract = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$API$graphql, myContract;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return API.graphql({\n                query: getContract,\n                variables: {\n                  id: id\n                }\n              });\n\n            case 2:\n              _yield$API$graphql = _context.sent;\n              myContract = _yield$API$graphql.data.getContract;\n              setContract(myContract);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getMyContract() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getAllCommodities = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _yield$API$graphql2, allCommodities;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return API.graphql({\n                query: listCommoditys\n              });\n\n            case 2:\n              _yield$API$graphql2 = _context2.sent;\n              allCommodities = _yield$API$graphql2.data.listCommoditys.items;\n              setCommodities(allCommodities);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getAllCommodities() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getAllVendors = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _yield$API$graphql3, allVendors;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return API.graphql({\n                query: listVendors\n              });\n\n            case 2:\n              _yield$API$graphql3 = _context3.sent;\n              allVendors = _yield$API$graphql3.data.listVendors.items;\n              setVendors(allVendors);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getAllVendors() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getAllCommodities();\n    getAllVendors();\n  }, []);\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center w-1/2 mx-auto py-6 text-2xl font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Edit Contract\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, contract && __jsx(Formik, {\n    initialValues: {\n      contractNumber: contract && contract.contractNumber || \"\",\n      contractType: contract && contract.contractType || \"\",\n      contractState: contract && contract.contractState || \"\",\n      vendorId: contract && contract.vendorId || \"\",\n      commodityId: contract && contract.commodityId || \"\",\n      quantity: contract && contract.quantity || \"\",\n      price: contract && contract.price || \"\",\n      terms: contract && contract.terms || \"\",\n      weights: contract && contract.weights || \"\",\n      basis: contract && contract.basis || \"\",\n      remarks: contract && contract.remarks || \"\",\n      beginDate: contract && contract.beginDate || \"\",\n      endDate: contract && contract.endDate || \"\",\n      dateSigned: contract && contract.dateSigned || \"\"\n    },\n    onSubmit: /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(values, actions) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return API.graphql({\n                  query: updateContract,\n                  variables: {\n                    input: {\n                      contractNumber: values.contractNumber,\n                      contractType: values.contractType,\n                      contractState: values.contractState,\n                      vendorId: values.vendorId,\n                      commodityId: values.commodityId,\n                      quantity: values.quantity,\n                      price: values.price,\n                      terms: values.terms,\n                      weights: values.weights,\n                      basis: values.basis,\n                      remarks: values.remarks,\n                      beginDate: moment(beginDate),\n                      endDate: moment(endDate).add(10, \"hours\"),\n                      dateSigned: moment(dateSigned).subtract(10, \"hours\"),\n                      id: id\n                    }\n                  }\n                });\n\n              case 2:\n                router.back();\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x, _x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, function (_ref5) {\n    var isSubmitting = _ref5.isSubmitting;\n    return __jsx(Form, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"w-7/12 mx-auto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2\",\n      htmlFor: \"contractNumber\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 23\n      }\n    }, \"Contract Number\"), __jsx(Field, {\n      className: \"form-input w-full\",\n      name: \"contractNumber\",\n      placeholder: \"Contract Number\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2\",\n      htmlFor: \"dateSigned\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }, \"Date Signed\"), __jsx(DatePicker, {\n      selected: dateSigned,\n      onChange: function onChange(date) {\n        return setDateSigned(date);\n      },\n      className: \"form-input w-full\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2\",\n      htmlFor: \"beginDate\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }\n    }, \"Begin Date\"), __jsx(DatePicker, {\n      selected: beginDate,\n      onChange: function onChange(date) {\n        return setBeginDate(date);\n      },\n      className: \"form-input w-full\",\n      startDate: beginDate,\n      selectsStart: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2\",\n      htmlFor: \"endDate\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 23\n      }\n    }, \"End Date\"), __jsx(DatePicker, {\n      selected: endDate,\n      onChange: function onChange(date) {\n        return setEndDate(date);\n      },\n      selectsEnd: true,\n      endDate: endDate,\n      minDate: beginDate,\n      className: \"form-input w-full\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2\",\n      htmlFor: \"contractType\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 23\n      }\n    }, \"Contract Type\"), __jsx(Field, {\n      className: \"form-select w-full\",\n      name: \"contractType\",\n      as: \"select\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 23\n      }\n    }, __jsx(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, \"Choose One\"), __jsx(\"option\", {\n      value: \"SALE\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }, \"Sale\"), __jsx(\"option\", {\n      value: \"PURCHASE\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, \"Purchase\"))), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2\",\n      htmlFor: \"contractState\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    }, \"Contract State\"), __jsx(Field, {\n      className: \"form-select w-full\",\n      name: \"contractState\",\n      as: \"select\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    }, __jsx(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, \"Choose One:\"), __jsx(\"option\", {\n      value: \"ACTIVE\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, \"Active\"), __jsx(\"option\", {\n      value: \"CLOSED\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, \"Closed\"))), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4 w-full\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"text-gray-900 w-1/4 md:w-1/2 pr-4\",\n      name: \"vendorId\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 23\n      }\n    }, \"Vendor\"), __jsx(Field, {\n      className: \"form-select w-full\",\n      name: \"vendorId\",\n      as: \"select\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 23\n      }\n    }, \" \", __jsx(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, \"Choose One:\"), vendors.length > 0 && vendors.map(function (v) {\n      return __jsx(\"option\", {\n        key: v.id,\n        value: v.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 29\n        }\n      }, v.companyListingName);\n    }))), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"commodityId\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    }, \"Commodity\"), __jsx(Field, {\n      className: \"form-select w-full\",\n      name: \"commodityId\",\n      as: \"select\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 23\n      }\n    }, __jsx(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 25\n      }\n    }, \"Choose One:\"), commodities.length > 0 && commodities.map(function (c) {\n      return __jsx(\"option\", {\n        key: c.id,\n        value: c.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 29\n        }\n      }, c.name);\n    }))), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"quantity\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, \"Quantity\"), __jsx(Field, {\n      className: \"form-input w-full\",\n      name: \"quantity\",\n      type: \"number\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"price\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 23\n      }\n    }, \"Price\"), __jsx(Field, {\n      className: \"form-input w-full\",\n      name: \"price\",\n      type: \"number\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"terms\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 23\n      }\n    }, \"Terms\"), __jsx(Field, {\n      className: \"form-textarea w-full\",\n      name: \"terms\",\n      component: \"textarea\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"weights\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 23\n      }\n    }, \"Weights\"), __jsx(Field, {\n      className: \"form-textarea w-full\",\n      name: \"weights\",\n      component: \"textarea\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"basis\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 23\n      }\n    }, \"Basis\"), __jsx(Field, {\n      className: \"form-textarea w-full\",\n      name: \"basis\",\n      component: \"textarea\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      className: \"w-1/4 text-gray-900 md:w-1/2\",\n      htmlFor: \"remarks\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 23\n      }\n    }, \"Remarks\"), __jsx(Field, {\n      className: \"form-textarea w-full\",\n      name: \"remarks\",\n      component: \"textarea\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 23\n      }\n    })), __jsx(\"div\", {\n      className: \"flex justify-center mt-12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 21\n      }\n    }, __jsx(\"button\", {\n      className: \"border border-blue-400 bg-blue-500 text-white py-2 px-4 rounded-lg\",\n      type: \"submit\",\n      disabled: isSubmitting,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 23\n      }\n    }, \"Submit\"))));\n  }))));\n};\n\n_s(EditContract, \"U+ZGvImexRXGobXhSggYTagxVNM=\", false, function () {\n  return [useRouter];\n});\n\n_c = EditContract;\nexport default EditContract;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditContract\");","map":{"version":3,"sources":["/Users/gregleeper/premier-alfalfa/premier_alfalfa/pages/contracts/edit/[id].js"],"names":["Formik","Field","Form","useState","useEffect","Layout","API","updateContract","listVendors","listCommoditys","getContract","moment","DatePicker","useRouter","EditContract","router","id","query","contract","setContract","commodities","setCommodities","vendors","setVendors","Date","dateSigned","setDateSigned","beginDate","setBeginDate","endDate","setEndDate","getMyContract","graphql","variables","myContract","data","getAllCommodities","allCommodities","items","getAllVendors","allVendors","contractNumber","contractType","contractState","vendorId","commodityId","quantity","price","terms","weights","basis","remarks","values","actions","input","add","subtract","back","isSubmitting","date","length","map","v","companyListingName","c","name"],"mappings":"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","sourcesContent":["import { Formik, Field, Form } from \"formik\";\nimport { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/layout\";\nimport { API } from \"aws-amplify\";\nimport { updateContract } from \"../../../../src/graphql/mutations.ts\";\nimport {\n  listVendors,\n  listCommoditys,\n  getContract,\n} from \"../../../../src/graphql/queries.ts\";\nimport moment from \"moment\";\nimport DatePicker from \"react-datepicker\";\nimport { useRouter } from \"next/router\";\n\nconst EditContract = () => {\n  const router = useRouter();\n  const { id } = router.query;\n  const [contract, setContract] = useState();\n  const [commodities, setCommodities] = useState([]);\n  const [vendors, setVendors] = useState([]);\n  const [dateSigned, setDateSigned] = useState(new Date());\n  const [beginDate, setBeginDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n\n  useEffect(() => {\n    getMyContract();\n  }, [id]);\n\n  useEffect(() => {\n    if (contract) {\n      setDateSigned(new Date(contract.dateSigned));\n      setBeginDate(new Date(contract.beginDate));\n      setEndDate(new Date(contract.endDate));\n    }\n  }, [contract]);\n\n  const getMyContract = async () => {\n    const {\n      data: { getContract: myContract },\n    } = await API.graphql({\n      query: getContract,\n      variables: {\n        id,\n      },\n    });\n    setContract(myContract);\n  };\n\n  const getAllCommodities = async () => {\n    const {\n      data: {\n        listCommoditys: { items: allCommodities },\n      },\n    } = await API.graphql({\n      query: listCommoditys,\n    });\n    setCommodities(allCommodities);\n  };\n\n  const getAllVendors = async () => {\n    const {\n      data: {\n        listVendors: { items: allVendors },\n      },\n    } = await API.graphql({\n      query: listVendors,\n    });\n    setVendors(allVendors);\n  };\n\n  useEffect(() => {\n    getAllCommodities();\n    getAllVendors();\n  }, []);\n\n  return (\n    <Layout>\n      <div>\n        <div className=\"text-center w-1/2 mx-auto py-6 text-2xl font-bold\">\n          <h3>Edit Contract</h3>\n        </div>\n        <div>\n          {contract && (\n            <Formik\n              initialValues={{\n                contractNumber: (contract && contract.contractNumber) || \"\",\n                contractType: (contract && contract.contractType) || \"\",\n                contractState: (contract && contract.contractState) || \"\",\n                vendorId: (contract && contract.vendorId) || \"\",\n                commodityId: (contract && contract.commodityId) || \"\",\n                quantity: (contract && contract.quantity) || \"\",\n                price: (contract && contract.price) || \"\",\n                terms: (contract && contract.terms) || \"\",\n                weights: (contract && contract.weights) || \"\",\n                basis: (contract && contract.basis) || \"\",\n                remarks: (contract && contract.remarks) || \"\",\n                beginDate: (contract && contract.beginDate) || \"\",\n                endDate: (contract && contract.endDate) || \"\",\n                dateSigned: (contract && contract.dateSigned) || \"\",\n              }}\n              onSubmit={async (values, actions) => {\n                await API.graphql({\n                  query: updateContract,\n                  variables: {\n                    input: {\n                      contractNumber: values.contractNumber,\n                      contractType: values.contractType,\n                      contractState: values.contractState,\n                      vendorId: values.vendorId,\n                      commodityId: values.commodityId,\n                      quantity: values.quantity,\n                      price: values.price,\n                      terms: values.terms,\n                      weights: values.weights,\n                      basis: values.basis,\n                      remarks: values.remarks,\n                      beginDate: moment(beginDate),\n                      endDate: moment(endDate).add(10, \"hours\"),\n                      dateSigned: moment(dateSigned).subtract(10, \"hours\"),\n                      id,\n                    },\n                  },\n                });\n                router.back();\n              }}\n            >\n              {({ isSubmitting }) => (\n                <Form>\n                  <div className=\"w-7/12 mx-auto\">\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2\"\n                        htmlFor=\"contractNumber\"\n                      >\n                        Contract Number\n                      </label>\n                      <Field\n                        className=\"form-input w-full\"\n                        name=\"contractNumber\"\n                        placeholder=\"Contract Number\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2\"\n                        htmlFor=\"dateSigned\"\n                      >\n                        Date Signed\n                      </label>\n                      <DatePicker\n                        selected={dateSigned}\n                        onChange={(date) => setDateSigned(date)}\n                        className=\"form-input w-full\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2\"\n                        htmlFor=\"beginDate\"\n                      >\n                        Begin Date\n                      </label>\n                      <DatePicker\n                        selected={beginDate}\n                        onChange={(date) => setBeginDate(date)}\n                        className=\"form-input w-full\"\n                        startDate={beginDate}\n                        selectsStart\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2\"\n                        htmlFor=\"endDate\"\n                      >\n                        End Date\n                      </label>\n                      <DatePicker\n                        selected={endDate}\n                        onChange={(date) => setEndDate(date)}\n                        selectsEnd\n                        endDate={endDate}\n                        minDate={beginDate}\n                        className=\"form-input w-full\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2\"\n                        htmlFor=\"contractType\"\n                      >\n                        Contract Type\n                      </label>\n\n                      <Field\n                        className=\"form-select w-full\"\n                        name=\"contractType\"\n                        as=\"select\"\n                      >\n                        <option value=\"\">Choose One</option>\n                        <option value=\"SALE\">Sale</option>\n                        <option value=\"PURCHASE\">Purchase</option>\n                      </Field>\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2\"\n                        htmlFor=\"contractState\"\n                      >\n                        Contract State\n                      </label>\n\n                      <Field\n                        className=\"form-select w-full\"\n                        name=\"contractState\"\n                        as=\"select\"\n                      >\n                        <option value=\"\">Choose One:</option>\n                        <option value=\"ACTIVE\">Active</option>\n                        <option value=\"CLOSED\">Closed</option>\n                      </Field>\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4 w-full\">\n                      <label\n                        className=\"text-gray-900 w-1/4 md:w-1/2 pr-4\"\n                        name=\"vendorId\"\n                      >\n                        Vendor\n                      </label>\n                      <Field\n                        className=\"form-select w-full\"\n                        name=\"vendorId\"\n                        as=\"select\"\n                      >\n                        {\" \"}\n                        <option value=\"\">Choose One:</option>\n                        {vendors.length > 0 &&\n                          vendors.map((v) => (\n                            <option key={v.id} value={v.id}>\n                              {v.companyListingName}\n                            </option>\n                          ))}\n                      </Field>\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"commodityId\"\n                      >\n                        Commodity\n                      </label>\n                      <Field\n                        className=\"form-select w-full\"\n                        name=\"commodityId\"\n                        as=\"select\"\n                      >\n                        <option value=\"\">Choose One:</option>\n                        {commodities.length > 0 &&\n                          commodities.map((c) => (\n                            <option key={c.id} value={c.id}>\n                              {c.name}\n                            </option>\n                          ))}\n                      </Field>\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"quantity\"\n                      >\n                        Quantity\n                      </label>\n                      <Field\n                        className=\"form-input w-full\"\n                        name=\"quantity\"\n                        type=\"number\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"price\"\n                      >\n                        Price\n                      </label>\n                      <Field\n                        className=\"form-input w-full\"\n                        name=\"price\"\n                        type=\"number\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"terms\"\n                      >\n                        Terms\n                      </label>\n                      <Field\n                        className=\"form-textarea w-full\"\n                        name=\"terms\"\n                        component=\"textarea\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"weights\"\n                      >\n                        Weights\n                      </label>\n                      <Field\n                        className=\"form-textarea w-full\"\n                        name=\"weights\"\n                        component=\"textarea\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"basis\"\n                      >\n                        Basis\n                      </label>\n                      <Field\n                        className=\"form-textarea w-full\"\n                        name=\"basis\"\n                        component=\"textarea\"\n                      />\n                    </div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <label\n                        className=\"w-1/4 text-gray-900 md:w-1/2\"\n                        htmlFor=\"remarks\"\n                      >\n                        Remarks\n                      </label>\n                      <Field\n                        className=\"form-textarea w-full\"\n                        name=\"remarks\"\n                        component=\"textarea\"\n                      />\n                    </div>\n\n                    <div className=\"flex justify-center mt-12\">\n                      <button\n                        className=\"border border-blue-400 bg-blue-500 text-white py-2 px-4 rounded-lg\"\n                        type=\"submit\"\n                        disabled={isSubmitting}\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </div>\n                </Form>\n              )}\n            </Formik>\n          )}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default EditContract;\n"]},"metadata":{},"sourceType":"module"}